<div class="container my-4">
  <!-- Título afuera de la tabla -->
  <div class="d-flex justify-content-start mb-3" style="max-width: 900px; margin: 0 auto;">
    <h4 class="mb-0" style="color:#495057">Roles existentes</h4>
  </div>

  <!-- Tarjeta de la tabla -->
  <div class="card mx-auto shadow mb-5 " style="max-width: 900px;border-radius: 0">
    <div class="card-body p-0">
      <table class="table mb-0">
        <thead>
          <tr class=" text-start fs-6">
            <th class="fw-semibold " style="width: 40%; height: 60px; vertical-align: middle;color:white; background-color:rgb(37, 37, 119)">Rol</th>
            <th class="fw-semibold " style="width: 40%; height: 60px; vertical-align: middle;color:white; background-color:rgb(37, 37, 119)">Descripción
            </th>
            <th style="width: 20%; height: 60px; vertical-align: middle;color:white; background-color:rgb(37, 37, 119) ;" class="text-center fw-semibold ">
              Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let rol of rolesFiltrados">
            <ng-container *ngIf="editingRol?.idRol === rol.idRol; else viewRow">
              <td>
                <input [(ngModel)]="editingRol.nombreRol" class="form-control form-control-sm " />
              </td>
              <td>
                <input [(ngModel)]="editingRol.descripcion" class="form-control form-control-sm" />
              </td>
              <td class="text-center" style="height: 90px; vertical-align: middle;">
                <div class="d-inline-flex gap-2">
                  <button (click)="updateRol()" class="btn btn-success btn-sm rounded-circle"
                    style="width: 34px; height: 34px;">
                    <i class="fas fa-save"></i>
                  </button>
                  <button (click)="cancelEditRol()" class="btn btn-danger btn-sm rounded-circle"
                    style="width: 34px; height: 34px;">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </td>
            </ng-container>

            <ng-template #viewRow>
              <td class="text-muted" style="height: 90px; vertical-align: middle;">{{ rol.nombreRol }}</td>
              <td class="text-muted" style="height: 90px; vertical-align: middle;">{{ rol.descripcion }}</td>
              <td class="text-center" style="height: 90px; vertical-align: middle;">
                <div class="d-inline-flex gap-2">
                  <button (click)="editRol(rol)" class="btn btn-primary btn-sm rounded-circle"
                    style="width: 34px; height: 34px; background-color:rgb(37, 37, 119);border:none">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button (click)="deleteRol(rol.idRol)" class="btn btn-danger btn-sm rounded-circle"
                    style="width: 34px; height: 34px;">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </td>
            </ng-template>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <br />
<!-- Título del formulario alineado -->
<div class="d-flex justify-content-start mb-3" style="max-width: 900px; margin: 0 auto;">
  <h4 class="mb-0" style="color:#495057">Crear Rol</h4>
</div>

<!-- Formulario con estilo de tabla -->
<div class="card shadow mb-5" style="max-width: 900px; margin: 0 auto; border-radius: 0;">
  <div class="card-body p-0">
    <form (ngSubmit)="crearRol()">
      <table class="table mb-0">
        <thead>
          <tr>
            <th class="fw-semibold"style="width: 40%;height: 60px; vertical-align: middle;color:white; background-color:rgb(37, 37, 119)">Nombre del rol</th>
            <th class="fw-semibold" style="width: 40%;height: 60px; vertical-align: middle;color:white; background-color:rgb(37, 37, 119)">Descripción</th>
            <th class="fw-semibold" style="width: 10%;height: 60px;  vertical-align: middle;color:white; background-color:rgb(37, 37, 119)" >Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="height: 90px; vertical-align: middle">
              <input
                [(ngModel)]="nuevoRol.nombre"
                name="nombre"
                id="rolNombre"
                class="form-control form-control-sm "
                style="width: 250px;"
                required
              />
            </td>
               <td style="height: 90px; vertical-align: middle">
              <input
                [(ngModel)]="nuevoRol.descripcion"
                name="descripcion"
                id="rolDescripcion"
                class="form-control form-control-sm " 
                   style="width: 250px;"
                required
              />
            </td>
            <td class="text-start" style=" vertical-align: middle">
              <button
                type="submit"
                class="px-4 btn btn-success"
               
              >
                Crear
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </form>
  </div>
</div>
