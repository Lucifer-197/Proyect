<div class="d-flex justify-content-center align-items-center my-5">
  <div class="card shadow-lg border-0 rounded-4" style="max-width: 900px; width: 100%;">

    <!-- Header -->
    <div class="card-header text-white text-center py-3" style="background-color: #252772;">
      <h5 class="mb-0">Crear Herramienta</h5>
    </div>

    <!-- Body -->
    <div class="card-body p-4">
      <form #herramientaForm="ngForm" (ngSubmit)="crearHerramienta(herramientaForm)" autocomplete="off">
        <div class="row g-3">

          <!-- Máquina -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Máquina</label>
            <input type="text" class="form-control" [(ngModel)]="nombre" name="nombre" (input)="generarCodigo()"
              required #nombreInput="ngModel" autocomplete="off">
            <div *ngIf="nombreInput.invalid && nombreInput.touched" class="text-danger mt-1">
              El nombre de la máquina es obligatorio
            </div>
          </div>

          <!-- Categoría -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Categoría</label>
            <select class="form-select" [(ngModel)]="categoria" name="categoria" (change)="generarCodigo()" required
              #categoriaInput="ngModel" autocomplete="off">
              <option value="">Seleccione una categoría</option>
              <option value="MAQUINA">Máquina</option>
              <option value="INSTRUMENTO DE MEDICION">Instrumento de Medición</option>
              <option value="ESTACION FIJA">Estación Fija</option>
              <option value="HERRAMIENTA NEUMATICA">Herramienta Neumática</option>
              <option value="HERRAMIENTA ELECTRICA">Herramienta Eléctrica</option>
              <option value="HERRAMIENTA MANUAL">Herramienta Manual</option>
              <option value="PLANTA">Planta</option>
              <option value="EQUIPO">Equipo</option>
            </select>
            <div *ngIf="categoriaInput.invalid && categoriaInput.touched" class="text-danger mt-1">
              La categoría es obligatoria
            </div>
          </div>

          <!-- Modelo -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Modelo</label>
            <input type="text" class="form-control" [(ngModel)]="modelo" name="modelo" required #modeloInput="ngModel"
              autocomplete="off">
            <div *ngIf="modeloInput.invalid && modeloInput.touched" class="text-danger mt-1">
              El modelo es obligatorio
            </div>
          </div>

          <!-- Serie -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Serie</label>
            <input type="text" class="form-control" [(ngModel)]="serie" name="serie" required #serieInput="ngModel"
              autocomplete="off">
            <div *ngIf="serieInput.invalid && serieInput.touched" class="text-danger mt-1">
              La serie es obligatoria
            </div>
          </div>

          <!-- Marca -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Marca</label>
            <input type="text" class="form-control" [(ngModel)]="marca" name="marca" required #marcaInput="ngModel"
              autocomplete="off">
            <div *ngIf="marcaInput.invalid && marcaInput.touched" class="text-danger mt-1">
              La marca es obligatoria
            </div>
          </div>

          <!-- Código -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Código</label>
            <input type="text" class="form-control" [value]="codigo" readonly>
          </div>

          <!-- Color -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Color</label>
            <input type="text" class="form-control" [(ngModel)]="color" name="color" required #colorInput="ngModel"
              autocomplete="off">
            <div *ngIf="colorInput.invalid && colorInput.touched" class="text-danger mt-1">
              El color es obligatorio
            </div>
          </div>

          <!-- Ubicación -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Ubicación</label>
            <input type="text" class="form-control" [(ngModel)]="ubicacion" name="ubicacion" required
              #ubicacionInput="ngModel" autocomplete="off">
            <div *ngIf="ubicacionInput.invalid && ubicacionInput.touched" class="text-danger mt-1">
              La ubicación es obligatoria
            </div>
          </div>

          <!-- Imagen -->
          <div class="col-md-4">
            <label class="form-label fw-semibold">Imagen</label>
            <input type="file" class="form-control" (change)="onFileSelected($event)" #fileInput required>
                 <div *ngIf="imagenInvalida" class="text-danger mt-1">
          La imagen es obligatoria
        </div>
          </div>

        </div>
   

        <!-- Botón Crear -->
        <div class="d-grid mt-4">
          <button type="submit" class="btn btn-success">Crear Herramienta</button>
        </div>
      </form>


    </div>
  </div>
</div>